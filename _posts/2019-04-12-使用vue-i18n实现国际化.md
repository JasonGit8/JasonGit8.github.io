---
layout: post
published: true
title: 使用vue-i18n实现国际化
category: Vue
tags: 
  - []
excerpt: 使用vue-i18n实现国际化

---

#### 需求
点击按钮切换中文/英文

#### 1. 安装
```
$ npm install vue-i18n --save
```

#### 2. 注入vue实例中，项目中实现调用api和模板语法
```js
import VueI18n from 'vue-i18n'

import zhCn from './common/lang/zh-cn'
import enUs from './common/lang/en-us'

Vue.use(VueI18n);
const i18n = new VueI18n({
	locale: 'zh-cn', // 语言标识
	messages: {
		'zh-cn': zhCn,
		'en-us': enUs
	}
});

new Vue({
  el: '#app',
  i18n,
  router,
  components: { App },
  template: '<App/>'
})
```

#### 3. 对应语言包
```javascript
zh-cn.js 中文语言包：

export default {
    "index":{
        "titel": "安全 稳定 高效",
        "titel2": "全新上线，功能齐全，交易顺心，体验流畅",
        "max": "您输入的金额超过最大值",
        "min": "您输入的金额超过最小值",
    }
}

en-us.js 英文语言包：

export default {
    "index":{
        "titel": "Safe, Stable, Efficient",
        "titel2": "New Experience for Exchange",
        "max": "Max",
        "min": "Min"
    }
}
```

#### 4. 按钮控制切换语言
```html
<button @click="changeLang()">英文</button> 

<script>
    export default {
        name: 'Home',
        data () {
            return {
            
            }
        },
        methods: {
            changeLang() {
                this.$i18n.locale = 'en-us'
            }
        }
    }
</script>
```

#### 5. 模板渲染

静态渲染：
```html
<div class="tit" v-text="$t('indexs.titel')">安全 稳定 高效</div>
```

动态渲染：
```html
<!-- 错误提示 -->
<div v-text="msg"></div>

<script>
export default {
    name: 'Home',
    data () {
        return {
          msg: ''
        }
    },
    created() {
        if (true) {
          this.msg = this.$t('index.max');
        } else {
          this.msg = this.$t('index.min');
        }
    },
    methods: {
        changeLang() {
          this.$i18n.locale = 'en-us'
        }
    }
}
</script>
```